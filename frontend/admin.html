<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin Panel - Mangekyo Cinema</title>
    <link rel="stylesheet" href="static/css/main.css">
    <link rel="stylesheet" href="static/css/auth-modal.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="logo">Mangekyo Cinema</div>
            <div class="nav-links">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="profile.html">Profile</a></li>
                    <li><a href="admin.html">Admin</a></li>
                </ul>
                <span id="user-span" class="nav-user"></span>
            </div>
        </div>
    </nav>

    <main id="admin-main">
        <div class="container">
            <!-- Access Denied -->
            <div id="admin-forbidden" style="display:none;">
                <h2>Access Denied</h2>
                <p>This page is for administrators only.</p>
                <a href="index.html" class="btn" style="margin-top: 20px;">Back to Home</a>
            </div>

            <!-- Admin Content -->
            <div id="admin-content" style="display:none;">
                <section class="page-heading">
                    <h1>Admin Panel</h1>
                    <p>Manage halls, movies, sessions, and view all bookings.</p>
                </section>

                <p id="admin-error" class="text-error" style="display:none;"></p>

                <!-- Halls Management -->
                <section>
                    <h3>Hall Management</h3>
                    <form id="form-hall">
                        <input type="text" name="name" placeholder="Hall name (e.g., Hall 1 - IMAX)" required />
                        <input type="text" name="location" placeholder="Location (e.g., Floor 1)" required />
                        <input type="number" name="total_rows" placeholder="Total rows" min="1" required />
                        <input type="number" name="seats_per_row" placeholder="Seats per row" min="1" required />
                        <button type="submit" class="btn">Add Hall</button>
                    </form>
                    <ul id="admin-halls"></ul>
                </section>

                <!-- Movies Management -->
                <section>
                    <h3>Movie Management</h3>
                    <form id="form-movie">
                        <input type="text" name="name" placeholder="Movie title" required />
                        <input type="number" name="year" placeholder="Year" min="1900" max="2100" required />
                        <input type="number" name="duration" placeholder="Duration (minutes)" min="1" required />
                        <textarea name="description" placeholder="Description" rows="2" style="grid-column: 1 / -1;"></textarea>
                        <input type="text" name="genres" placeholder="Genres (comma-separated)" />
                        <input type="text" name="age_restriction" placeholder="Age restriction (e.g., PG-13, R)" />
                        <input type="url" name="poster_url" placeholder="Poster URL" />
                        <input type="url" name="trailer_url" placeholder="Trailer URL (YouTube embed)" />
                        <input type="number" name="rating" placeholder="Rating (0-10)" step="0.1" min="0" max="10" />
                        <button type="submit" class="btn">Add Movie</button>
                    </form>
                    <ul id="admin-movies"></ul>
                </section>

                <!-- Sessions Management -->
                <section>
                    <h3>Session Management</h3>
                    <form id="form-session">
                        <input type="text" name="movie_id" placeholder="Movie ID" required />
                        <input type="text" name="hall_id" placeholder="Hall ID" required />
                        <input type="datetime-local" name="start_time" required />
                        <input type="number" name="price" placeholder="Price" min="0" step="0.01" required />
                        <select name="format">
                            <option value="">Format</option>
                            <option value="2D">2D</option>
                            <option value="3D">3D</option>
                            <option value="IMAX">IMAX</option>
                            <option value="4DX">4DX</option>
                        </select>
                        <select name="language">
                            <option value="">Language</option>
                            <option value="English">English</option>
                            <option value="Russian">Russian</option>
                            <option value="Kazakh">Kazakh</option>
                            <option value="Subtitled">Subtitled</option>
                        </select>
                        <input type="text" name="age_restriction" placeholder="Age restriction (optional)" />
                        <button type="submit" class="btn">Add Session</button>
                    </form>
                    <ul id="admin-sessions"></ul>
                </section>

                <!-- Bookings Overview -->
                <section>
                    <h3>All Bookings</h3>
                    <p style="color: #b3b3b3; margin-bottom: 15px;">
                        View all customer bookings across all sessions.
                    </p>
                    <ul id="admin-bookings"></ul>
                    <p id="no-bookings" style="display:none; text-align: center; color: #666; padding: 20px;">
                        No bookings yet.
                    </p>
                </section>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2026 Mangekyo Cinema. All rights reserved.</p>
    </footer>

    <script src="static/js/auth.js"></script>
    <script src="static/js/api.js"></script>
    <script src="static/js/admin.js"></script>
</body>
</html>
