<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Profile - Mangekyo Cinema</title>
    <link rel="stylesheet" href="static/css/main.css">
    <link rel="stylesheet" href="static/css/auth-modal.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="logo">Mangekyo Cinema</div>
            <div class="nav-links">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="profile.html">Profile</a></li>
                    <li><a href="admin.html" id="nav-admin" style="display:none;">Admin</a></li>
                </ul>
                <span id="user-span" class="nav-user"></span>
            </div>
        </div>
    </nav>

    <main id="profile-main">
        <div class="container">
            <section class="page-heading">
                <h1>My Profile</h1>
                <p>View your account details and booking history.</p>
            </section>

            <!-- Guest View -->
            <div id="profile-guest" style="display:none; text-align: center; padding: 60px 20px;">
                <h2 style="margin-bottom: 20px;">Welcome to Mangekyo Cinema</h2>
                <p style="margin-bottom: 30px; color: #b3b3b3;">
                    Log in to view your profile, manage bookings, and rate movies you've watched.
                </p>
                <button type="button" id="profile-login-btn" class="btn">
                    Login / Register
                </button>
            </div>

            <!-- Logged In View -->
            <div id="profile-content" style="display:none;">
                <!-- User Info -->
                <div id="profile-info"></div>

                <!-- Admin Link -->
                <p style="margin-top: 15px;">
                    <a href="admin.html" id="profile-admin-link" class="btn btn-ghost" style="display:none;">
                        Go to Admin Panel
                    </a>
                </p>

                <!-- Bookings Section -->
                <section style="margin-top: 40px;">
                    <h2 style="margin-bottom: 20px;">My Bookings</h2>
                    <p id="bookings-empty" style="display:none;">
                        You don't have any bookings yet. 
                        <a href="index.html" style="color: #d81f26; text-decoration: underline;">Browse movies</a> 
                        to book your first ticket!
                    </p>
                    <ul id="bookings-list"></ul>
                </section>
            </div>

            <p id="profile-error" class="text-error" style="display:none;"></p>
        </div>
    </main>

    <footer>
        <p>&copy; 2026 Mangekyo Cinema. All rights reserved.</p>
    </footer>

    <script src="static/js/auth.js"></script>
    <script src="static/js/api.js"></script>
    <script src="static/js/profile.js"></script>
</body>
</html>
